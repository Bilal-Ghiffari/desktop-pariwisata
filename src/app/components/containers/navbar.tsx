"use client";

import { cn } from "@/lib/utils";
import * as React from "react";
import NavItem from "./navitem";
import Link from "next/link";
import { useTranslation } from "react-i18next";
import SwitchTranslation from "./SwitchTranslation";
import { Menu, X } from "lucide-react";

interface INavBarProps {
  navbg?: boolean;
  className?: string;
}

const NavBar: React.FunctionComponent<INavBarProps> = ({
  navbg,
  className,
}) => {
  const [isOpen, setIsOpen] = React.useState<boolean>(false);
  const { t } = useTranslation();
  return (
    <>
      <div
        className={cn([
          "navbar items-center py-8 flex flex-row justify-between",
          className,
        ])}
      >
        <div className="logo flex flex-row justify-center items-center gap-x-2">
          <svg
            width="40"
            height="50"
            viewBox="0 0 40 50"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19.2424 0.0107498C13.3151 0.192223 7.83707 2.9718 4.18263 7.65235C1.86491 10.6224 0.434758 14.2303 0.0915927 17.9765C0.0305056 18.6395 0.0125389 19.024 0.0107422 19.7265C0.0107422 20.4524 0.0179289 20.5548 0.118543 20.9968C0.492252 22.6624 1.82539 23.9956 3.49091 24.3694C3.8736 24.4556 4.05866 24.4754 4.49166 24.4754C4.92465 24.4754 5.10971 24.4556 5.4924 24.3694C7.00521 24.0316 8.24671 22.905 8.74619 21.4209C8.91687 20.916 8.96179 20.598 8.98335 19.7535C9.00491 18.8857 9.05162 18.4095 9.18278 17.7321C9.73616 14.8861 11.4394 12.3581 13.8883 10.75C15.4783 9.70604 17.2229 9.12748 19.1705 8.99812C19.5622 8.97296 20.4947 8.98734 20.8684 9.02687C22.2985 9.1742 23.5005 9.52457 24.7402 10.1516C27.1478 11.3698 29.0522 13.4954 29.9955 16.0162C31.0106 18.7293 30.8956 21.7766 29.6829 24.3927C28.7773 26.3458 27.2645 28.0275 25.405 29.1451C24.0772 29.9429 22.6111 30.4388 21.048 30.6131C20.8702 30.6346 20.4749 30.6634 20.1695 30.6778C19.864 30.6939 19.528 30.7173 19.422 30.7317C17.5733 30.9742 16.0479 32.3649 15.6418 34.1778C15.5556 34.5606 15.5358 34.7456 15.5358 35.1786C15.5358 35.6117 15.5556 35.7967 15.6418 36.1794C15.8467 37.094 16.3623 37.9564 17.0684 38.5619C17.8607 39.2429 18.7878 39.6112 19.8353 39.6615C20.0886 39.6741 20.933 39.6382 21.5062 39.5879C24.6522 39.3202 27.6311 38.3337 30.2991 36.6735C32.4803 35.317 34.4153 33.5077 35.9209 31.4216C37.9009 28.6762 39.146 25.4672 39.5269 22.1306C39.6293 21.2232 39.6598 20.5944 39.6472 19.5648C39.6383 18.7437 39.6167 18.3646 39.543 17.6872C39.0687 13.2618 37.1121 9.12928 33.9841 5.94723C32.0329 3.96361 29.7871 2.46152 27.2196 1.42659C24.7222 0.418613 21.9536 -0.0736961 19.2424 0.0107498Z"
              fill="#165299"
            />
            <path
              d="M22.2433 14.4811C19.9417 14.589 17.9851 15.2286 16.458 16.3731C15.8237 16.8475 15.2039 17.471 14.7242 18.1178C13.5617 19.6792 12.8736 21.661 12.6742 24.0201C12.631 24.5214 12.631 25.6156 12.6724 25.8474C12.7532 26.2894 13.0119 26.6434 13.391 26.8302C13.7109 26.9866 13.9318 27.0117 15.0566 27.0117C15.8974 27.0117 16.0843 27.0009 16.6879 26.9201C18.2942 26.7045 19.7692 26.1205 20.9569 25.2293C21.4491 24.8592 22.069 24.2699 22.4499 23.8081C23.244 22.845 23.8549 21.74 24.3166 20.4356C24.8071 19.0449 25.1216 17.3344 25.1251 16.0246C25.1269 15.5754 25.1251 15.5628 25.0802 15.428C24.9221 14.9645 24.5538 14.6267 24.0956 14.5243C23.8495 14.4704 22.9314 14.4488 22.2433 14.4811ZM22.3133 17.3937C22.1463 18.5005 21.8193 19.5983 21.3809 20.5075C20.3262 22.7049 18.6355 23.9536 16.2963 24.2609C15.9297 24.3094 15.3746 24.3453 15.3512 24.322C15.3386 24.3076 15.3907 23.7991 15.4446 23.4362C15.7088 21.6484 16.3771 20.1661 17.3815 19.1347C18.3139 18.1807 19.4746 17.5949 20.9766 17.32C21.3809 17.2464 21.9432 17.1799 22.2091 17.1763L22.3457 17.1745L22.3133 17.3937Z"
              fill="#F3761B"
            />
            <path
              d="M7.87124 27.3447C6.17698 27.4417 4.52403 28.0706 3.1927 29.1271C1.53616 30.4405 0.436593 32.3163 0.116784 34.3826C0.0754604 34.6449 0.0359335 34.9809 0.0449169 34.9935C0.0521036 35.0025 0.58931 34.812 0.916305 34.6827C1.7284 34.3646 2.42372 34.0125 3.02381 33.619C4.12158 32.8967 5.5176 31.5365 6.62255 30.1081C6.73754 29.9608 6.83456 29.8422 6.83815 29.8458C6.85073 29.8566 6.66028 30.4872 6.50397 30.9544C5.92903 32.6739 5.2445 34.0592 4.52583 34.963C4.00659 35.6152 3.14598 36.3105 2.14703 36.8837C1.59904 37.1981 0.592903 37.6761 0.141938 37.836L0.0233568 37.8791L0.0125767 41.5804C0.00539003 43.6179 0 46.3454 0 47.6409V50H0.564157C1.43195 50 1.97814 49.9569 2.55488 49.8455C3.21605 49.7179 3.98683 49.4736 4.36593 49.2687C5.09538 48.8788 5.66672 48.3326 5.96138 47.7451C6.10511 47.4558 6.23447 47.003 6.30993 46.5233C6.36383 46.1855 6.36742 45.3554 6.31891 45.005C6.20932 44.2127 5.98833 43.5065 5.62719 42.7806C5.55353 42.6297 5.48705 42.5021 5.48166 42.4985C5.47627 42.4968 5.47088 42.7088 5.46909 42.9711C5.46549 44.0168 5.34152 44.8182 5.08999 45.4434C4.94446 45.8064 4.76119 46.0831 4.48271 46.3616C4.03534 46.8108 3.54664 47.0174 2.93936 47.0174C2.44528 47.0174 1.97814 46.8701 1.61881 46.6041C1.47867 46.5017 1.2451 46.2592 1.10136 46.0705C0.761791 45.6231 0.670161 44.9691 0.837252 44.1785C1.04567 43.1849 1.66372 41.9434 2.63213 40.576C3.25558 39.6956 4.06408 38.7847 5.21755 37.6581C5.77093 37.1191 6.79683 36.183 6.83456 36.183C6.90822 36.183 7.38614 37.5718 7.77961 38.932C7.86585 39.2338 8.08864 39.9813 8.2737 40.594C8.67615 41.9272 8.91332 42.7537 9.0283 43.2226C9.07681 43.4131 9.11814 43.5658 9.12173 43.5604C9.12532 43.5568 9.15587 43.4131 9.19 43.2424C9.25648 42.9028 9.29601 42.6064 9.32296 42.256C9.33374 42.1176 9.34632 39.2033 9.3535 34.6773L9.36608 27.325L8.74802 27.3267C8.40845 27.3285 8.01318 27.3375 7.87124 27.3447Z"
              fill="#F3761B"
            />
          </svg>
        </div>
        {isOpen ? (
          <X
            className="w-6 h-6 md:hidden block"
            onClick={() => setIsOpen(!isOpen)}
          />
        ) : (
          <Menu
            className="w-6 h-6 md:hidden block"
            onClick={() => setIsOpen(!isOpen)}
          />
        )}

        <ul className=" flex-row gap-x-14 hidden lg:flex">
          <NavItem link="/" name={t("navbar.nav-item-1")} navbg={navbg} />
          <NavItem link="/about" name={t("navbar.nav-item-2")} navbg={navbg} />
          <NavItem
            link="/contact"
            name={t("navbar.nav-item-3")}
            navbg={navbg}
          />
          <NavItem link="/faq" name={t("navbar.nav-item-4")} navbg={navbg} />
        </ul>
        <div className="hidden lg:flex flex-row gap-x-3 items-center">
          <SwitchTranslation />
          <p className="text-white font-medium">{t("title")}</p>
          <Link
            href="/log-in"
            className={cn([
              "md:w-fit w-full text-center text-base font-semibold",
              navbg
                ? "text-white py-[12px] px-[26px]"
                : "py-3 px-6 bg-[#466BF3]/10 rounded-xl",
            ])}
          >
            {t("navbar.btn-signin")}
          </Link>
          <Link
            href="/daftar"
            className="md:w-fit w-full text-center px-[26px] rounded-xl text-base py-[12px] font-semibold text-white bg-[#175399]"
          >
            {t("navbar.btn-signup")}
          </Link>
        </div>
      </div>
      <div
        id="dropdown-menu"
        onClick={() => setIsOpen(!isOpen)}
        className={cn([
          "lg:hidden flex fixed flex-col gap-y-16 left-0 top-[60px] w-screen p-12  z-20",
          !isOpen && "hidden",
        ])}
      >
        <div className="flex flex-col md:flex-row gap-x-24 gap-y-10 z-40 bg-white p-7 shadow-lg shadow-indigo-950/10 rounded-2xl">
          <div className="flex flex-col gap-y-4 ">
            <ul className="flex flex-col gap-y-5">
              <NavItem link="/" name="Home" navbg={navbg} />
              <NavItem link="/about" name="Tentang" navbg={navbg} />
              <NavItem link="/contact" name="Kontak" navbg={navbg} />
              <NavItem link="/faq" name="FAQ" navbg={navbg} />
              <li>
                <div className="flex flex-col gap-y-2">
                  <a
                    href=""
                    className="md:w-fit w-full text-center px-7 rounded-full text-base py-3 font-semibold text-indigo-950 bg-white"
                  >
                    Daftar
                  </a>
                  <a
                    href=""
                    className="md:w-fit w-full text-center px-6 rounded-xl border border-black text-base py-[10px] font-semibold text-black bg-transparent"
                  >
                    Masuk
                  </a>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </>
  );
};

export default NavBar;
